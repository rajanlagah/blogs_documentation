## Decentralized Lottery


import ImgLoader from '../../../components/ImgLoader'

<ImgLoader type="Lottery_landing" />


Sepolia [Demo](https://hh-lottery-smart-contract.vercel.app/)

Gorile **[Depricated]** [demo](https://tiny-dew-2052.on.fleek.co/)

[Contract](https://sepolia.etherscan.io/address/0x0c88a4e3e3bf9272f15f41de9674277de15ce867)

[Code](https://github.com/rajanlagah/hh-lottery-smart-contract)

## Testnet
Sepolia [Active]

Goerli [Depricated]

## Technology used
- solidity
- nextjs
- chainlink
- hardhat
- metamask
- mocha
- chai
- react-moralis
- web3uikit
- fleek.com
## How it work
This project have 3 components 
1. Smart contract
2. Smart contract tests
3. Nextjs frontend

### Smart Contract
Its writing in solidity ^0.8. It allow user to make payment in SepoliaETH (or hardhat Eth ) and then it store user address and we call them player. After the set time (1 hour) it chainlink keepers ( now automation.chainlink ) run cron job and if number of players is > 0 then automation.chainlink will run performUpKeep function which will call random number function given by chainlink's VRF and after process we will receive random number in fulfillRandomWords fn. This random number will be the index of winner in player array and all the balance of contract will be transfered to winner.

### Smart contract tests
2 sets of testing
#### 1. Unit testing
These tests each function on local hardhat node. On local we are calling `fulfillRandomWords` fn manually.
**to run test** 
```
hh test
```

#### 2. Staging tests
In this we are testing e2e flow of user journey from entering the game to game results. This is done on Sepolia test net.

network-name = hardhat | localhost | goerli | sepolia

```
hh test --network network-name
```

### Nextjs frontend
Intractive UI that make it easy to enter game. We have used react-moralis to intract with smart contract and web3uikit for pre-built UI components.

### Installation and Deployment 
[Read here](https://github.com/rajanlagah/hh-lottery-smart-contract#installation)